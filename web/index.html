<!DOCTYPE html>
<html>
	<head>
		<script src="lib/run_prettify.js" type="text/javascript"></script>
		<script src="lib/jquery-2.1.3.min.js" type="text/javascript"></script>
		<script src="lib/jquery-ui.min.js" type="text/javascript"></script>
		<script src="lib/jsPlumb.js" type="text/javascript"></script>
		<script src="lib/angular.js" type="text/javascript"></script>

		<link href="lib/prettify.css"  rel="stylesheet" type="text/css" >
		<link href="lib/jquery-ui.css" rel="stylesheet" type="text/css">
		<link href="lib/caldaia.css" rel="stylesheet" type="text/css">
	</head>

	<body ng-app="caldaia">
		<div ng-controller="theController">
			<div id="plumbContainer" class="container">
				<div id="pannelliSolari" class="draggable" >
					<div class="content">{{current.rotexTK}}°C</div>
					<div class="deviceId">Pannelli Solari</div>
				</div>
				<div id="accumuloRotex" class="draggable">
					<div class="content">{{current.rotexTS}}°C</div>
					<div class="deviceId">Accumulo ROTEX</div>
				</div>
				<div id="camino" class="draggable">
					<div class="content">{{current.ainTempCaminoValueCentigradi}}°C</div>
					<div class="deviceId">Camino</div>
				</div>
				<div id="caldaiaMetano" class="draggable">
					<div class="content">{{current.outCaldaiaValue === 1 ? "Accesa!" : "Spenta"}}</div>
					<div class="deviceId">Caldaia Metano</div>
				</div>
				<div id="riscaldamento" class="draggable">
					<div class="content">{{current.outPompaValue === 1 ? "Acceso!" : "Spento"}}</div>
					<div class="deviceId">Riscaldamento</div>
				</div>
				<div id="updateTime" class="draggable">
					<div class="updateTimeContent">{{current['@timestamp'] | date:'dd/MM/yyyy HH:mm'}}</div>
				</div>
			</div>
			</pre>	
			<span><button ng-click="loadData()" ng-disable="isLoading">Aggiorna</button></span> 
			<span><button ng-click="toggleShowDetails()">{{showDetails ? 'Nascondi' : 'Mostra'}} Dettaglio Dati</button></span>
			<span><button ng-click="gotoDashboard()">Dashboard</button></span>
			<span ng-show="isLoading">Caricamento ...</span>
			</br>
			<div ng-show="errore">
				{{ errore | json:4 }}
			</div>
			<pre class="prettyprint" ng-show="showDetails" ng-bind="currentAsString">
		<div>
		<!-- Il setup dei dispositivi  connessioni con jsPlumb -->
		<script src="lib/caldaiaPlumbing.js" language="javascript"></script>
		<!-- L'applicazione Angular -->		
		<script src="lib/caldaia.js" language="javascript"></script>
	</body>
</html>
